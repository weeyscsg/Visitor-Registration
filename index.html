<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visitor Registration</title>
  <!-- Optional: Bootstrap for styling -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container mt-5">
    <!-- Access Denied Message -->
    <div id="access-denied" class="alert alert-danger d-none">
      Access Denied. Please scan the valid QR code to open this page.
    </div>

    <!-- Visitor Registration Form -->
    <div id="visitor-form" class="card d-none">
      <div class="card-body">
        <h2 class="card-title mb-4">Visitor Registration</h2>
        <form id="registrationForm">
          <div class="mb-3">
            <label for="name" class="form-label">Full Name:</label>
            <input type="text" id="name" name="name" class="form-control" required/>
          </div>
          <div class="mb-3">
            <label for="company" class="form-label">Company:</label>
            <input type="text" id="company" name="company" class="form-control" required/>
          </div>
          <!-- Add more fields as needed -->

          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    // ðŸ‘‰ SET your daily key here
    const DAILY_KEY = "digi477188"; // <-- Update daily!

    // ðŸ‘‰ Get 'key' from URL query parameter
    const urlParams = new URLSearchParams(window.location.search);
    const key = urlParams.get('key');

    const formContainer = document.getElementById('visitor-form');
    const deniedContainer = document.getElementById('access-denied');

    if (key === DAILY_KEY) {
      // Valid key - show form
      formContainer.classList.remove('d-none');
    } else {
      // Invalid or missing key - show error
      deniedContainer.classList.remove('d-none');
    }

    // ðŸ‘‰ Handle form submit (example only)
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Form submitted!'); 
      // ðŸ‘‰ Replace with your actual Apps Script POST or form submission logic
    });
  </script>

</body>
</html>
